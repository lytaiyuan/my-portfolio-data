# å‰ç«¯é›†æˆè‡ªè¿°æ–‡ä»¶

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªReactä½œå“é›†ç½‘ç«™çš„æ•°æ®ä»“åº“ï¼Œæ‰€æœ‰å†…å®¹æ•°æ®å·²è¿ç§»åˆ°GitHubç§æœ‰ä»“åº“ã€‚å‰ç«¯éœ€è¦ä»æœ¬åœ°æ–‡ä»¶è¯»å–æ”¹ä¸ºä»GitHub APIè¯»å–æ•°æ®ã€‚

## ğŸ” è®¤è¯ä¿¡æ¯

- **ä»“åº“**: `lytaiyuan/my-portfolio-data`
- **ç±»å‹**: ç§æœ‰ä»“åº“
- **Token**: `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`
- **åˆ†æ”¯**: `main`
- **APIåŸºç¡€URL**: `https://api.github.com/repos/lytaiyuan/my-portfolio-data/contents`

## ğŸ“ æ–‡ä»¶ç»“æ„

```
my-portfolio-data/
â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ photos.json           # ç…§ç‰‡é…ç½® (24å¼ ç…§ç‰‡)
â”‚   â”œâ”€â”€ music.json            # éŸ³ä¹é…ç½® (2é¦–éŸ³ä¹)
â”‚   â”œâ”€â”€ videos.json           # è§†é¢‘é…ç½® (3ä¸ªè§†é¢‘)
â”‚   â””â”€â”€ graphiccontent.json   # å¹³é¢è®¾è®¡é…ç½® (1ä¸ªé¡¹ç›®)
â”œâ”€â”€ photos/                    # ç…§ç‰‡æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ 1.jpg, 2.jpg, 3.jpg... # 24å¼ ç…§ç‰‡æ–‡ä»¶
â”‚   â””â”€â”€ DSC*.jpg              # åŸå§‹ç›¸æœºæ–‡ä»¶
â”œâ”€â”€ music/                     # éŸ³ä¹ç›¸å…³æ–‡ä»¶
â”‚   â”œâ”€â”€ Epic/                 # EpicéŸ³ä¹é¡¹ç›®
â”‚   â”‚   â”œâ”€â”€ cover.jpg         # å°é¢
â”‚   â”‚   â”œâ”€â”€ Epic.txt          # æè¿°æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ score/            # ä¹è°±å›¾ç‰‡
â”‚   â””â”€â”€ AnotherSong/          # Another Songé¡¹ç›®
â”‚       â”œâ”€â”€ cover.jpg         # å°é¢
â”‚       â”œâ”€â”€ AnotherSong.txt   # æè¿°æ–‡ä»¶
â”‚       â””â”€â”€ score/            # ä¹è°±å›¾ç‰‡
â”œâ”€â”€ videos/                    # è§†é¢‘ç›¸å…³æ–‡ä»¶
â”‚   â”œâ”€â”€ yuntingfinal/         # å¬è§è‡ªå·±ï¼Œå¬è§ä½ 
â”‚   â”œâ”€â”€ 2023/                 # æµè½¬2023
â”‚   â””â”€â”€ weishan/              # å·å±±çƒŸé›¨
â”œâ”€â”€ graphic/                   # å¹³é¢è®¾è®¡æ–‡ä»¶
â”‚   â””â”€â”€ km/                   # æ˜¥åŸæ¹–ç•”åº¦å‡æ‘é¡¹ç›®
â”œâ”€â”€ packaging/                 # åŒ…è£…è®¾è®¡æ–‡ä»¶
â”‚   â”œâ”€â”€ bupin/                # è¡¥å“åŒ…è£…è®¾è®¡
â”‚   â””â”€â”€ oufen/                # è—•ç²‰åŒ…è£…è®¾è®¡
â”œâ”€â”€ vi/                        # VIè®¾è®¡æ–‡ä»¶
â”‚   â””â”€â”€ km/                   # å“ç‰Œè§†è§‰æ‰‹å†Œ
â”œâ”€â”€ home/                      # ä¸»é¡µç›¸å…³æ–‡ä»¶
â”‚   â””â”€â”€ design/               # ä¸»é¡µè®¾è®¡å…ƒç´ 
â”œâ”€â”€ hero.json                  # ä¸»é¡µè‹±é›„åŒºåŸŸé…ç½®
â”œâ”€â”€ packaging.json             # åŒ…è£…è®¾è®¡é…ç½®
â”œâ”€â”€ vi.json                    # VIè®¾è®¡é…ç½®
â”œâ”€â”€ productphotos.json         # äº§å“ç…§ç‰‡é…ç½®
â””â”€â”€ utils/                     # å·¥å…·æ–‡ä»¶
    â””â”€â”€ github-data.js        # GitHubæ•°æ®è®¿é—®å·¥å…·
```

## ğŸŒ APIæ¥å£

### è¯·æ±‚å¤´è¦æ±‚
```
Authorization: token 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
Accept: application/vnd.github.v3.raw
```

### ä¸»è¦æ¥å£

#### 1. ç…§ç‰‡æ•°æ®
- **URL**: `GET /repos/lytaiyuan/my-portfolio-data/contents/config/photos.json`
- **è¿”å›**: 24å¼ ç…§ç‰‡çš„é…ç½®ä¿¡æ¯
- **ç”¨é€”**: Photosé¡µé¢æ•°æ®

#### 2. éŸ³ä¹æ•°æ®
- **URL**: `GET /repos/lytaiyuan/my-portfolio-data/contents/config/music.json`
- **è¿”å›**: 2é¦–éŸ³ä¹çš„é…ç½®ä¿¡æ¯
- **ç”¨é€”**: Musicé¡µé¢æ•°æ®

#### 3. è§†é¢‘æ•°æ®
- **URL**: `GET /repos/lytaiyuan/my-portfolio-data/contents/config/videos.json`
- **è¿”å›**: 3ä¸ªè§†é¢‘çš„é…ç½®ä¿¡æ¯
- **ç”¨é€”**: Videosé¡µé¢æ•°æ®

#### 4. å¹³é¢è®¾è®¡æ•°æ®
- **URL**: `GET /repos/lytaiyuan/my-portfolio-data/contents/config/graphiccontent.json`
- **è¿”å›**: å¹³é¢è®¾è®¡é¡¹ç›®é…ç½®
- **ç”¨é€”**: Designé¡µé¢æ•°æ®

#### 5. å…¶ä»–é…ç½®æ–‡ä»¶
- **è‹±é›„åŒºåŸŸ**: `GET /repos/lytaiyuan/my-portfolio-data/contents/hero.json`
- **åŒ…è£…è®¾è®¡**: `GET /repos/lytaiyuan/my-portfolio-data/contents/packaging.json`
- **VIè®¾è®¡**: `GET /repos/lytaiyuan/my-portfolio-data/contents/vi.json`
- **äº§å“ç…§ç‰‡**: `GET /repos/lytaiyuan/my-portfolio-data/contents/productphotos.json`

## ğŸ“Š æ•°æ®æ ¼å¼

### ç…§ç‰‡é…ç½®ç¤ºä¾‹ (photos.json)
```json
{
  "version": "2025.08.29-1",
  "items": [
    {
      "id": 1,
      "url": "/photos/DSC01227.jpg",
      "title": "ä»°æœ›",
      "tags": ["å¥³äºº","æ°‘æ—","å®¤å†…"],
      "w": 4314,
      "h": 6471,
      "desc": "ä½äºäº‘å—çœçº¢æ²³å½æ—å“ˆå°¼æ—è‡ªæ²»å·ï¼Œviaï¼šç‹é»˜æ¶µã€‚"
    }
  ]
}
```

### éŸ³ä¹é…ç½®ç¤ºä¾‹ (music.json)
```json
{
  "version": "2025.01.29-1",
  "items": [
    {
      "id": 1,
      "slug": "epic",
      "title": "Epic",
      "hottitle": "å²è¯—çº§é…ä¹",
      "cover": "/music/Epic/cover.jpg",
      "duration": "3:45"
    }
  ]
}
```

### è§†é¢‘é…ç½®ç¤ºä¾‹ (videos.json)
```json
{
  "version": "2025.08.29-3",
  "items": [
    {
      "id": 1,
      "slug": "tingjian-ziji-tingjian-ni",
      "title": "å¬è§è‡ªå·±ï¼Œå¬è§ä½ ",
      "poster": "/videos/yuntingfinal/yuntingfinal.jpg",
      "duration": "3:34"
    }
  ]
}
```

## ğŸ”§ å‰ç«¯é›†æˆæ­¥éª¤

### 1. å®‰è£…ä¾èµ–
```bash
npm install dotenv
```

### 2. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶ (.env)
```bash
GITHUB_TOKEN=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
GITHUB_USERNAME=lytaiyuan
GITHUB_REPO_NAME=my-portfolio-data
```

### 3. æ›¿æ¢æ•°æ®è·å–é€»è¾‘
å°†åŸæ¥çš„é™æ€å¯¼å…¥æ”¹ä¸ºAPIè°ƒç”¨ï¼š

**åŸæ¥:**
```javascript
import photosData from '../../public/photos.json';
const photos = photosData.items;
```

**æ”¹ä¸º:**
```javascript
const [photos, setPhotos] = useState([]);

useEffect(() => {
  const fetchPhotos = async () => {
    const response = await fetch(
      'https://api.github.com/repos/lytaiyuan/my-portfolio-data/contents/config/photos.json',
      {
        headers: {
          'Authorization': 'token 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',
          'Accept': 'application/vnd.github.v3.raw'
        }
      }
    );
    const data = await response.json();
    setPhotos(data.items);
  };
  
  fetchPhotos();
}, []);
```

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### 1. ç§æœ‰ä»“åº“é™åˆ¶
- åª’ä½“æ–‡ä»¶æ— æ³•ç›´æ¥é€šè¿‡URLè®¿é—®
- éœ€è¦é€šè¿‡GitHub APIè·å–Base64ç¼–ç å†…å®¹
- æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦Tokenè®¤è¯

### 2. å®‰å…¨è€ƒè™‘
- Tokenä¸è¦æäº¤åˆ°Gitä»“åº“
- ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯
- åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®‰å…¨é…ç½®Token

### 3. æ€§èƒ½ä¼˜åŒ–
- å®ç°æ•°æ®ç¼“å­˜æœºåˆ¶
- æ·»åŠ åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†
- è€ƒè™‘ä½¿ç”¨React Queryæˆ–SWR

### 4. åª’ä½“æ–‡ä»¶å¤„ç†
ç”±äºæ˜¯ç§æœ‰ä»“åº“ï¼Œå›¾ç‰‡ç­‰åª’ä½“æ–‡ä»¶éœ€è¦ç‰¹æ®Šå¤„ç†ï¼š

```javascript
// è·å–å›¾ç‰‡çš„Base64å†…å®¹
const getImageContent = async (imagePath) => {
  const response = await fetch(
    `https://api.github.com/repos/lytaiyuan/my-portfolio-data/contents${imagePath}`,
    {
      headers: {
        'Authorization': 'token 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',
        'Accept': 'application/vnd.github.v3+json'
      }
    }
  );
  
  const data = await response.json();
  return `data:image/jpeg;base64,${data.content}`;
};
```

## ğŸš€ è°ƒè¯•å»ºè®®

1. **å…ˆæµ‹è¯•API**: ä½¿ç”¨Postmanæˆ–æµè§ˆå™¨æµ‹è¯•APIæ˜¯å¦èƒ½æ­£å¸¸è¿”å›æ•°æ®
2. **é€æ­¥æ›¿æ¢**: ä¸€ä¸ªé¡µé¢ä¸€ä¸ªé¡µé¢åœ°æ›¿æ¢æ•°æ®è·å–é€»è¾‘
3. **é”™è¯¯å¤„ç†**: æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
4. **æ€§èƒ½ç›‘æ§**: ç›‘æ§APIè¯·æ±‚çš„æ€§èƒ½å’ŒæˆåŠŸç‡

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Tokenæ˜¯å¦æœ‰æ•ˆ
2. ä»“åº“æƒé™æ˜¯å¦æ­£ç¡®
3. APIè¯·æ±‚å¤´æ˜¯å¦å®Œæ•´
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œæ‰€æœ‰è®¿é—®éƒ½éœ€è¦é€šè¿‡GitHub APIè¿›è¡Œè®¤è¯ã€‚
